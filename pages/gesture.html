<html>
	<head>
		<title></title>
		<script src="js/jquery.js"></script>
		<script src="js/jquery-ui.js"></script>
		<script src="js/nexusUI.js"></script>
	</head>
	<body>

		<style>

		body {
			font-family: helvetica neue;
		}

		#vis {
			height: 10px;
			width: 10px;
			position:absolute;
			top:0px;
			left:0px;
			background-color:black;
		}


		</style>


		<div id="vis"></div>


		<script>

			var Gesture = function(cb) {

				this.buffer = [
					[0,0],
					[5,0],
					[0,5],
					[10,10],
					[100,20],
					[0,20]
				]
			
			
		
				this.bufferIndex = 0
				this.speed = 1
				this.limit = 100

				this.cb = cb
				this.interval;
				

			}

			Gesture.prototype.setBuffer = function(buff) {
				this.buffer = buff ? buff : this.buffer
				
			}

			Gesture.prototype.tick = function() {

				this.bufferIndex += this.speed
				this.bufferIndex %= this.limit


				var interval = this.limit / this.buffer.length;

				var lowerIndex = Math.floor(this.bufferIndex/interval)
				var upperIndex = lowerIndex + 1

				upperIndex %= this.buffer.length

				var interpDistance = (this.bufferIndex - lowerIndex*interval) / interval

				console.log(interpDistance)

				var x = nx.interp(interpDistance, this.buffer[lowerIndex][0],this.buffer[upperIndex][0])
				var y = nx.interp(interpDistance, this.buffer[lowerIndex][1],this.buffer[upperIndex][1])



				this.cb(x,y)

				//return value


				//how to teach a modulo?
				// 12 % 10 = 2
				// 22 % 10 = 2
				// a monster that can only eat 10 at a time. will chomp chomp until leaving whatever's left.

			}


			var a = new Gesture(function(x,y) {
				$("#vis").css("left",x*10+"px")
				$("#vis").css("top",y*10+"px")
			})

			setInterval("a.tick()", 100);

		</script>


	</body>
</html>